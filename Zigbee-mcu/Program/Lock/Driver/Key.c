#define KEY_C_

/* ------------------------------------------------------------------------------------------------
 *                                          Includes
 * ------------------------------------------------------------------------------------------------
 */
#include "Key.h"


/**************************************************************************************************
 * @fn          Key_Init
 * @brief       P0.1门锁钥匙、P0.5反锁动作端口初始化
 * @param       无
 * @return      无
 **************************************************************************************************
 */
void Key_Init(void)
{
  P0INP &= ~0x32;    //设置P0.5、P0.1、P0.4为上拉，接到电源正极
  P0DIR &= ~0x32;    //设置P0.5、P0.1、P0.4为输入 
  //IEN1  |=  0x20;    //设置端口0中断使能
  //P0IEN |=  0x12;    //设置P0.1、P0.4中断使能
  //PICTL |=  0x01;    //输入的下降沿触发中断
  //P0IFG &=  0x00;    //P0中断标志清0
}





/**************************************************************************************************
 * @fn          Key_Int_Init
 * @brief       P0.1门锁钥匙、P0.5反锁动作中断初始化
 * @param       无
 * @return      无
 **************************************************************************************************
 */
void Key_Int_Init(void)
{
  IEN1  |=  0x20;    //设置端口0中断使能
  PICTL |=  0x01;    //输入的下降沿触发中断
  P0IFG &=  0x00;    //P0中断标志清0
}



/**************************************************************************************************
 * @fn          Key_Int_Disable
 * @brief       P0.1、P0.4中断禁止
 * @param       无
 * @return      无
 **************************************************************************************************
 */
void KeyDoor_Int_Disable(void)
{
  P0IEN &= ~0x12;    //设置P0.1、P0.4中断禁止
}


/**************************************************************************************************
 * @fn          Key_Int_Enable
 * @brief       P0.1中断使能
 * @param       无
 * @return      无
 **************************************************************************************************
 */
void Key_Int_Enable(void)
{
  P0IEN |= 0x02;   
}

/**************************************************************************************************
 * @fn          Door_Int_Enable
 * @brief       P0.4中断使能
 * @param       无
 * @return      无
 **************************************************************************************************
 */
void Door_Int_Enable(void)
{
  P0IEN |= 0x10;    
}